{
  "data": {
    "input_csv": "data/raw_qa.csv",
    "text_columns": ["question", "answer"],
    "id_column": "ID"
  },
  "clustering": {
    "n_clusters": 30,
    "batch_size": 5000,
    "max_iter": 50,
    "random_state": 42
  },
  "qwen": {
    "api_key": "sk-79959346b3674d788c6d5ac43f4eb905",
    "base_url": "https://dashscope.aliyuncs.com/compatible-mode/v1",
    "model": "qwen3-30b-a3b-instruct-2507",
    "max_retries": 3,
    "timeout": 30
  },
  "document_processing": {
    "chunk_size": 2000,
    "chunk_overlap": 200,
    "max_qa_pairs_per_chunk": 3,
    "max_content_length": 4000,
    "output_csv": "data/processed_qa_pairs.csv",
    "temp_dir": "temp",
    "supported_extensions": [".txt", ".pdf", ".docx", ".doc", ".md", ".html", ".csv", ".epub", ".ppt", ".pptx", ".odt", ".eml", ".enex"]
  },
  "clip": {
    "model_name": "paraphrase-multilingual-MiniLM-L12-v2",
    "batch_size": 128,
    "device": "cuda"
  },
  "milvus": {
    "host": "milvus-standalone",
    "port": 19530,
    "collection_name": "multilingual_vectors",
    "dimension": 384,
    "index_type": "IVF_FLAT",
    "metric_type": "COSINE",
    "nlist": 1024,
    "nprobe": 64
  },
  "service": {
    "host": "0.0.0.0",
    "port": 8000,
    "top_k": 10
  },
  "performance": {
    "enable_metrics": true,
    "gpu_sample_interval": 1.0,
    "report_format": ["json", "html"]
  },
  "logging": {
    "level": "INFO",
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  },
  "conversation_processing": {
    "input_file": "data/jingdong.json",
    "output_csv": "data/processed_conversations.csv",
    "sliding_window_size": 5,
    "vector_search_top_k": 5,
    "csv_fields": {
      "id_field": "ID",
      "service_name_field": "service_name",
      "user_name_field": "user_name", 
      "question_time_field": "question_time",
      "date_field": "data",
      "question_field": "question",
      "answer_field": "answer",
      "image_url_field": "image_url"
    },
    "llm_prompts": {
      "semantic_validation": "请判断以下客服回复是否具有实际意义和价值。有意义的回复应该包含具体信息、解答问题或提供帮助，而不是纯语气词、无实际信息或乱码符号。请只回答'有意义'或'无意义'。\n\n客服回复：{content}",
      "relevance_check": "请判断以下客户问题是否与给定的客服回答相关。相关的问题应该是客服回答所要解决或回应的问题。请只回答'相关'或'不相关'。\n\n客户问题：{question}\n客服回答：{answer}",
      "question_fusion": "请将以下多个相关的客户问题融合成一个语境一致、可独立理解的标准化问题。融合后的问题应该完整表达客户的意图，避免指代不明。\n\n客户问题列表：\n{questions}\n\n请直接输出融合后的问题，不要包含其他解释："
    },
    "api_endpoints": {
      "intent_rewrite_url": "http://localhost:8001/intent_rewrite",
      "answer_polish_url": "http://192.168.151.84:8010/api/v1/answer/enhance"
    }
  }
}
